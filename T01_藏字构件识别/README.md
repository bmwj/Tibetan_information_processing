# 藏文构件识别与分析工具

## 项目简介

藏文构件识别与分析工具是一个专门用于分析藏文字符构件的Python应用程序。该工具能够自动识别藏文字符的各个构成部分，包括前加字、上加字、基字、下加字、再下加字、元音、后加字、再后加字等构件，为藏文文本处理和语言学研究提供强有力的支持。

## 功能特性

### 🔍 核心功能
- **藏文构件识别**：自动识别藏文字符的各个构成部分
- **多种输入方式**：支持文件输入和直接文本输入
- **多种编码支持**：支持UTF-8、UTF-16、GB18030等多种文件编码
- **实时进度显示**：分析过程中显示实时进度条和状态信息

### 📊 结果展示
- **表格视图**：以表格形式展示分析结果，便于查看和比较
- **可视化视图**：图形化展示藏文构件关系，直观易懂
- **详细信息**：提供完整的构件分析详情

### 💾 数据导出
- **CSV格式**：导出为CSV文件，便于Excel等工具处理
- **JSON格式**：导出为JSON文件，便于程序化处理
- **多种字体支持**：内置30+种藏文字体，确保显示效果

### 🎨 界面特色
- **现代化UI**：采用现代化设计风格，界面美观易用
- **响应式布局**：支持窗口大小调整，适应不同屏幕
- **多语言支持**：界面采用中文，符合用户习惯

## 项目结构

```
T01_藏字构件识别/
├── README.md                    # 项目说明文档
├── tibetan_analyzer.py          # 核心分析算法
├── tibetan_analyzer_gui.py      # GUI界面程序
├── Classification.py            # 分类处理模块
├── run_gui.py                   # GUI启动脚本
├── run_classification.sh        # 分类处理脚本
├── test.txt                     # 测试文件
├── 全藏字.txt                   # 完整藏字数据
├── Classified.xls               # 分类结果文件
├── fontfile/                    # 字体文件目录
│   ├── 吞弥恰俊——尼赤乌坚体.ttf  # 默认藏文字体
│   ├── Qomolangma-*.ttf         # 珠穆朗玛系列字体
│   ├── Himalaya-*.ttf           # 喜马拉雅系列字体
│   └── ...                      # 其他藏文字体
└── output/                      # 输出文件目录
    ├── 藏字构件_utf-8.csv       # CSV格式输出
    └── output.json              # JSON格式输出
```

## 安装要求

### 系统要求
- Python 3.7+
- 操作系统：Windows、macOS、Linux

### 依赖包
```bash
pip install tkinter
pip install Pillow
```

### 字体要求
- 系统需要支持藏文字体显示
- 项目内置多种藏文字体，无需额外安装

## 使用方法

### 1. 启动GUI界面
```bash
python run_gui.py
```
### 2. 命令行模式
```bash
chmod +x ./run_classification.sh
./run_classification.sh
```

### 2. 使用步骤

#### 文件输入模式
1. 点击"📃 文件输入"按钮
2. 点击"📁 浏览..."选择藏文文本文件
3. 选择合适的文件编码（默认UTF-8）
4. 点击"📊 开始分析"

#### 直接输入模式
1. 点击"⌨️ 直接输入"按钮
2. 在文本框中输入藏文字符
3. 点击"📊 开始分析"

#### 查看结果
- **🗳️ 表格视图**：查看详细的构件分析表格
- **📊 可视化视图**：查看图形化的构件关系图
- **💻 详细信息**：查看完整的分析详情

#### 导出结果
- **📖 导出CSV**：保存为CSV格式文件
- **📖 导出JSON**：保存为JSON格式文件

### 3. 命令行使用
```python
from tibetan_analyzer import cut

# 分析单个藏文字符
result = cut("བཀྲ་ཤིས་")
print(result)
```

## 输出格式

### 构件字段说明
- **原字**：原始藏文字符
- **类型**：字符类型（藏文字符/其他）
- **前加字**：位于基字前面的辅音字母
- **上加字**：位于基字上方的辅音字母
- **基字**：藏文字符的主体部分
- **下加字**：位于基字下方的辅音字母
- **再下加字**：位于下加字下方的辅音字母
- **元音**：元音符号
- **后加字**：位于基字后面的辅音字母
- **再后加字**：位于后加字后面的辅音字母

### 示例输出
```json
{
  "原字": "བཀྲ",
  "类型": "藏文字符",
  "前加字": "བ",
  "上加字": "",
  "基字": "ཀ",
  "下加字": "ྲ",
  "再下加字": "",
  "元音": "",
  "后加字": "",
  "再后加字": ""
}
```

## 技术特点

### 算法优势
- **准确识别**：基于藏文语法规则的精确构件识别
- **高效处理**：支持大文件批量处理
- **容错能力**：对格式不规范的文本具有一定容错性

### 界面设计
- **现代化UI**：采用Material Design设计理念
- **用户友好**：直观的操作流程和清晰的状态提示
- **响应式设计**：适应不同屏幕尺寸和分辨率

### 字体支持
- **丰富字体库**：内置30+种专业藏文字体
- **自动字体选择**：智能选择最佳显示字体
- **字体管理**：支持字体切换和自定义


### 技术栈
- **编程语言**：Python 3.7+
- **GUI框架**：Tkinter
- **图像处理**：Pillow (PIL)
- **数据处理**：CSV, JSON

### 版本历史
- **v1.0**：基础构件识别功能
- **v2.0**：添加GUI界面
- **v2.1**：优化界面设计，修复进度条显示问题
- **v2.2**：增加可视化功能和多种导出格式

## 贡献指南

欢迎提交Issue和Pull Request来改进这个项目：

1. Fork 项目
2. 创建特性分支 (`git checkout -b feature/AmazingFeature`)
3. 提交更改 (`git commit -m 'Add some AmazingFeature'`)
4. 推送到分支 (`git push origin feature/AmazingFeature`)
5. 开启 Pull Request

## 许可证

本项目采用开源许可证，详情请查看LICENSE文件。
## 联系方式
如有问题或建议，请通过以下方式联系：
- 提交GitHub Issue
- 发送邮件至项目维护者
---